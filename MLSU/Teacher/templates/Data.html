<!DOCTYPE html>
<html lang="en">
<head>
  <title>{{FName}}</title>
  <style>
  .uploader {
    position:relative;
    overflow:hidden;
    width:300px;
    height:350px;
    background:#f3f3f3;
    border:2px dashed #e8e8e8;
}

#filePhoto{
    position:absolute;
    width:300px;
    height:400px;
    top:-50px;
    left:0;
    z-index:2;
    opacity:0;
    cursor:pointer;
}
#fileP{
    position:absolute;
    width:300px;
    height:400px;
    top:-50px;
    left:0;
    z-index:2;
    opacity:0;
    cursor:pointer;
}

.uploader img{
    position:absolute;
    width:302px;
    height:352px;
    top:-1px;
    left:-1px;
    z-index:1;
    border:none;
}
</style>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet"></head>
<body>
  {% include 'nav.html'%}

 <div class="container">
   {% with messages = get_flashed_messages() %}
         {% if messages %}
         {% for message in messages %}
         <div class="alert alert-danger d-flex justify-content-center col-12 mt-4" role="alert">
           {{message}}
         </div>
         {% endfor %}
         {% endif %}
   {% endwith %}
   <ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
      aria-selected="true">Exam</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
      aria-selected="false">Assignment</a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
    <div class="row mb-5">
        <div class="">
        {{msg}}
        </div>
        <div class="col-12 d-flex justify-content-center">
          <div class="card-group">
          {% for row in user %}
          <div class="">
          <form action="/SendMarks" method="post" enctype="multipart/form-data">
          <input type="text" value="{{row.0}}" name="id" hidden>
          <div class="card card-cascade m-3">
           <!-- Card image -->
           <div class="view view-cascade gradient-card-header blue-gradient p-3 rounded-top">
             <!-- Title -->
             <h2 class="card-header-title mb-3 text-center text-light">{{row.2}}</h2>
             <!-- Subtitle -->
             <p class="card-header-subtitle mb-3 text-center">Send From -: <kbd>{{row.1}}</kbd></p>
             <p class="card-header-subtitle mb-0 text-center">Send for Course -: <kbd>{{row.3}}</kbd></p>
           </div>
           <!-- Card content -->
           <div class="card-body card-body-cascade text-center">
             <!-- Text -->
             <p class="card-text">
               Subject Code:  <kbd>{{row.4}}</kbd>
             </p>
             <p class="card-text">
               RollNo:  <kbd>{{row.6}}</kbd>
             </p>
             <hr>
           <a href="static\data\{{row.10}}" class="btn purple-gradient">view pdf</a>
           <br>
           <a href="static\data\{{row.10}}" class="btn aqua-gradient"download >Download pdf</a>
           <hr>
           <div class="md-form">
           <input type="text" id="form1" class="form-control" name="Marks" required>
           <label for="form1">Enter Marks</label>
           </div>
           <div class="md-form">
           <input type="text" id="form1" class="form-control" name="TMarks" required>
           <label for="form1">Total Marks</label>
           </div>
           <div class="md-form form-sm">
           {{row.5}}
           </div>
           <div class="md-form d-flex justify-content-center">
           <div class="uploader" onclick="$('#filePhoto').click()">
              <p class"display-4 text-center d-flex justify-content-center"><i class="fas fa-upload fa-10x mt-5" ></i>
                <p class="text-center lead mt-5">Upload Your Tumb impression for Future verification</p></p>
              <img src=""/>
              <input type="file" name="file"  id="filePhoto" required/>
          </div>
          </div>
          <div class="d-flex justify-content-center">
            <button class="btn btn-outline-dark btn-rounded waves-effect" type="submit">Submit</button>
          </div>
           </div>
          </div>
          </form>
          </div>
          {% endfor %}
        </div>
        </div>
        </div>
    </div>
  <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">

    <div class="">
    {{msg}}
    </div>
    <div class="col-12 d-flex justify-content-center">
<div class="card-group mb-5">
      {% for row in user1 %}
      <div class="col-6">
      <form action="/sendmarksassign" method="post" enctype="multipart/form-data">
      <input type="text" value="{{row.0}}" name="id" hidden>
      <div class="card card-cascade m-3">
       <!-- Card image -->
       <div class="view view-cascade gradient-card-header peach-gradient p-3 rounded-top">
         <!-- Title -->
         <h2 class="card-header-title mb-3 text-center text-light">{{row.2}}</h2>
         <!-- Subtitle -->
         <p class="card-header-subtitle mb-3 text-center">Send From -: <kbd>{{row.1}}</kbd></p>
         <p class="card-header-subtitle mb-0 text-center">Send for Subject -: <kbd>{{row.3}}</kbd></p>
       </div>
       <!-- Card content -->
       <div class="card-body card-body-cascade text-center">
         <!-- Text -->
         <p class="card-text">
           SEMESTER:  <kbd>{{row.4}}</kbd>
         </p>
         <p class="card-text">
           RollNo: {{row.6}}
         </p>
         <hr>
       <a href="static\assign\{{row.7}}" class="btn purple-gradient">view pdf</a>
       <br>
       <a href="static\assign\{{row.7}}" class="btn aqua-gradient"download >Download pdf</a>
       <hr>
       <div class="md-form">
       <input type="text" id="form1" class="form-control" name="Marks" required>
       <label for="form1">Enter Marks</label>
       </div>
       <div class="md-form">
       <input type="text" id="form1" class="form-control" name="TMarks" required>
       <label for="form1">Total Marks</label>
       </div>
       <div class="md-form form-sm">
       {{row.5}}
       </div>
       <div class="md-form d-flex justify-content-center">
       <div class="uploader" onclick="$('#fileP').click()">
          <p class"display-4 text-center d-flex justify-content-center"><i class="fas fa-upload fa-10x mt-5" ></i>
            <p class="text-center lead mt-5">Upload Your Tumb impression for Future verification</p></p>
          <img src=""/>
          <input type="file" name="file"  id="filePhoto" required/>
      </div>
      </div>
      <div class="d-flex justify-content-center">
        <button class="btn btn-outline-dark btn-rounded waves-effect" type="submit">Submit</button>
      </div>
       </div>
      </div>
      </form>
      </div>
      {% endfor %}
</div>
      <!-- Card -->
    </div>

  </div>
</div>


   </div>
 <!-- Footer -->

<footer class="page-footer font-small aqua-gradient fixed-bottom">

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">Â© 2020 Copyright:
    <a href="https://mdbootstrap.com/"> Harsh Tripathi</a>
  </div>
  <!-- Copyright -->

</footer>
<script>
var imageLoader = document.getElementById('fileP');
imageLoader.addEventListener('change', handleImage, false);

function handleImage(e) {
  var reader = new FileReader();
  reader.onload = function (event) {
      $('.uploader img').attr('src',event.target.result);
  }
  reader.readAsDataURL(e.target.files[0]);
}

// Edit for multiple images
// I didn't try but it should work.
// Also you need write some CSS code to see all images in container properly.
function handleImages(e) {
  $('.uploader img').remove();
  for(var i = 0; i < e.target.files.length; i++){
      var reader = new FileReader();
      reader.onload = function (event) {
          var $img = $('<img/>');
          $img.attr('src', event.target.result);
          $('.uploader').append($img);
      }
      reader.readAsDataURL(e.target.files[i]);
  }
}
</script>
<script>
var imageLoader = document.getElementById('filePhoto');
imageLoader.addEventListener('change', handleImage, false);

function handleImage(e) {
  var reader = new FileReader();
  reader.onload = function (event) {
      $('.uploader img').attr('src',event.target.result);
  }
  reader.readAsDataURL(e.target.files[0]);
}
function handleImages(e) {
  $('.uploader img').remove();
  for(var i = 0; i < e.target.files.length; i++){
      var reader = new FileReader();
      reader.onload = function (event) {
          var $img = $('<img/>');
          $img.attr('src', event.target.result);
          $('.uploader').append($img);
      }
      reader.readAsDataURL(e.target.files[i]);
  }
}
</script>
<!-- Footer -->
 <!-- JQuery -->
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <!-- Bootstrap tooltips -->
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
 <!-- Bootstrap core JavaScript -->
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
 <!-- MDB core JavaScript -->
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
</body>
</html>
